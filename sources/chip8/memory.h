//
// Created by olesg on 9/11/2021.
//
#pragma once
#ifndef INC_8BITEMU_SOURCES_CHIP8_MEMORY_H_
#define INC_8BITEMU_SOURCES_CHIP8_MEMORY_H_
#include "config.h"

class Memory {

 public:
  Memory();

   char memory[CHIP8_MEMORY_SIZE];
  constexpr static unsigned char default_character_set[] = {
	  0xF0, 0x90, 0x90, 0x90, 0xF0,                 // 0
	  0x20, 0x60, 0x20, 0x20, 0x70,					// 1
	  0xf0, 0x10, 0xf0, 0x80, 0xf0,					// 2
	  0xf0, 0x10, 0xf0, 0x10, 0xf0,					// 3
	  0x90, 0x90, 0xf0, 0x10, 0x10,					// 4
	  0xf0, 0x80, 0xf0, 0x10, 0xf0,					// 5
	  0xf0, 0x80, 0xf0, 0x90, 0xf0, 				// 6
	  0xf0, 0x10, 0x20, 0x40, 0x40,					// 7
	  0xf0, 0x90, 0xf0, 0x90, 0xf0,					// 8
	  0xf0, 0x90, 0xf0, 0x10, 0xf0,					// 9
	  0xf0, 0x90, 0xf0, 0x90, 0x90,					// A
	  0xe0, 0x90, 0xe0, 0x90, 0xe0,					// B
	  0xf0, 0x80, 0x80, 0x80, 0xf0,					// C
	  0xe0, 0x90, 0x90, 0x90, 0xe0,					// D
	  0xf0, 0x80, 0xf0, 0x80, 0xf0,					// E
	  0xf0, 0x80, 0xf0, 0x80, 0x80					// F
  };


  void set(int index, unsigned char val);
  unsigned char get(int index) const;
  const unsigned char *GetMemory() const;
  unsigned short get_short(int index);
 private:
 	inline void check_bounds(int index) const;
	 void set_characters_memory();
};

#endif //INC_8BITEMU_SOURCES_CHIP8_MEMORY_H_
